<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalles</title>
    <link rel="stylesheet" href="{{url_for('static',filename='css/style_details.css')}}">
    <link rel="stylesheet" href="{{url_for('static',filename='css/style_footer.css')}}">
    <link rel="stylesheet" href="{{url_for('static',filename='css/style_home.css')}}">
</head>

<body>
    <nav>
        <i id="logo" class="fa-solid fa-book nav-icon"></i>
        <ul>
            <li><a href="{{url_for('Home')}}"><i class="fa-solid fa-home nav-icon"></i> Inicio</a></li>
            <li><a href="#"><i class="fa-solid fa-mobile nav-icon"></i> App</a></li>
            <li><a href="{{url_for('Perfil')}}"><i class="fa-solid fa-user nav-icon"></i>Perfil</a></li>
        </ul>
        <div class="search-container">
            <input type="text" id="searchInput" class="search-input" placeholder="Search..." />
            <button id="searchButton" class="search-button">
                <i class="fa-solid fa-search"></i>
            </button>
        </div>
    </nav>

    {% if libro %}
    <main>
        <div class="book-cover">
            <img src="{{ libro['photo'] if libro['photo'] else 'path/to/default-image.jpg' }}" alt="Portada del Libro">
        </div>
        
        <section class="book-details">
            <h1>{{ libro['author'] }}</h1>
            <h2>{{ libro['name_book'] }}</h2>

            <button class="exchange-button" onclick="openMaps()">Solicitar Intercambio</button>
            
            <div class="book-description">
                <h3>Descripción</h3>
                <p>{{ libro['descripcion'] }}</p>
            </div>
            <div class="book-genres">
                {% if libro['genre'] %}
                    {% for genero in libro['genre'].split(',') %}
                        <button class="search-button" onclick="goToGenre('{{ genero }}')">{{ genero }}</button>
                    {% endfor %}
                {% else %}
                    <p>No géneros disponibles.</p>
                {% endif %}
            </div>
        </section>
    </main>
    
    <div id="map-container">
        <button class="close-map-btn" onclick="closeMaps()">Cerrar</button>
        <iframe id="map" frameborder="0" allowfullscreen></iframe>
    </div>

    {% else %}
    <main>
        <h1>Error</h1>
        <p>{{ error }}</p>
    </main>
    {% endif %}


    {% include 'footer.html' %}
    <script src="{{url_for('static', filename='js/script_details.js')}}"></script>

</body>

</html>
